<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul 1: Kann ich mir das leisten?</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modul1.css">
</head>
<body>
    <header class="header-creative">
        <div class="container">
            <div class="header-content">
                <div class="module-badge">Modul 1</div>
                <h1>Kann ich mir das leisten?</h1>
                <p class="subtitle">Leandros Budget unter der Lupe</p>
            </div>
            <div class="header-illustration">
                <div class="illustration-budget">üí∞</div>
            </div>
        </div>
    </header>

    <nav class="breadcrumb">
        <div class="container">
            <a href="index.html" class="back-link">‚Üê Zur√ºck zur √úbersicht</a>
        </div>
    </nav>

    <main class="container creative-container">
        <!-- PHASE 1: Einstiegstext -->
        <section id="phase1" class="phase active">
            <div class="phase-header">
                <div class="phase-icon">üí°</div>
                <div>
                    <h2>Schritt 1: Die Basics</h2>
                    <p class="phase-description">Verstehe die Grundlagen der Budgetplanung</p>
                </div>
            </div>

            <div class="leandro-bubble">
                <div class="avatar-creative">
                    <img src="images/leandro-neutral.png" alt="Leandro">
                </div>
                <div class="speech-bubble-creative">
                    <p>Hey! Ich habe meine Lehre abgeschlossen und verdiene jetzt richtig Geld. Zeit f√ºr meine eigene Wohnung! Aber... kann ich mir das √ºberhaupt leisten?</p>
                </div>
            </div>

            <div style="background: white; border-radius: 24px; padding: 2rem; margin: 2rem 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);">
                <h3 style="color: var(--dark); margin-bottom: 1rem;">üí∞ Leandros Situation</h3>
                <p>Leandro verdient neu CHF 4'100 brutto pro Monat. Nach Abz√ºgen bleiben ihm etwa <strong>CHF 3'750 netto</strong> √ºbrig. Das klingt nach viel Geld ‚Äì aber reicht das f√ºr eine eigene Wohnung?</p>

                <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left: 4px solid #f59e0b; border-radius: 16px; padding: 1.5rem; margin: 1.5rem 0;">
                    <h4 style="color: #92400e; margin-bottom: 0.75rem;">üí° Die Faustregel</h4>
                    <p style="color: #78350f; margin: 0;">Die Miete sollte maximal <strong>einen Drittel</strong> des Einkommens ausmachen. Bei Leandro w√§ren das etwa <strong>CHF 1'250</strong>.</p>
                </div>

                <p>Aber Wohnen kostet mehr als nur die Miete! Krankenkasse, Essen, Handy-Abo, Kleider, Ausgang ‚Äì alles muss bezahlt werden.</p>

                <p>Manche Kosten sind <strong>fix</strong> (kommen jeden Monat), andere sind <strong>variabel</strong> (du kannst sie beeinflussen). Wichtig ist: Am Ende des Monats sollte noch Geld √ºbrig sein ‚Äì zum Sparen oder f√ºr Notf√§lle.</p>
            </div>

            <div class="action-buttons">
                <button class="btn-creative btn-primary-creative btn-large" onclick="startQuestionnaire()">
                    <span>Teste jetzt: Wie sieht dein Budget aus?</span>
                    <span class="btn-arrow-creative">‚Üí</span>
                </button>
            </div>
        </section>

        <!-- PHASE 2: Fragebogen -->
        <section id="phase2" class="phase">
            <div class="phase-header">
                <div class="phase-icon">üìã</div>
                <div>
                    <h2>Schritt 2: Dein Lifestyle</h2>
                    <p class="phase-description">Beantworte die Fragen, um dein pers√∂nliches Budget zu ermitteln</p>
                </div>
            </div>

            <div class="progress-indicator">
                <p><strong>Frage <span id="currentQuestion">1</span> von 10</strong></p>
                <div class="progress-bar-fancy">
                    <div class="progress-fill-fancy" id="questionProgress" style="width: 10%"></div>
                </div>
            </div>

            <form id="questionnaireForm">
                <!-- Frage 1 -->
                <div class="question active" data-question="1">
                    <div class="question-card">
                        <h3><span class="question-number">1</span> Wie oft gehst du in den Ausgang (Bar, Club, Konzerte)?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q1" value="1" required>
                            <span>Selten oder nie (0-1x pro Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q1" value="2">
                            <span>Ab und zu (2-3x pro Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q1" value="3">
                            <span>Oft (4x oder mehr pro Monat)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 2 -->
                <div class="question" data-question="2">
                    <div class="question-card">
                        <h3><span class="question-number">2</span> Wie viel gibst du f√ºr Kleider, Schuhe und Accessoires aus?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q2" value="1" required>
                            <span>Wenig ‚Äì nur wenn n√∂tig (unter CHF 50/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q2" value="2">
                            <span>Normal ‚Äì gelegentlich etwas Neues (CHF 50-150/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q2" value="3">
                            <span>Viel ‚Äì ich liebe Shopping (√ºber CHF 150/Monat)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 3 -->
                <div class="question" data-question="3">
                    <div class="question-card">
                        <h3><span class="question-number">3</span> Welches Handy-Abo hast du?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q3" value="1" required>
                            <span>Prepaid oder g√ºnstiges Abo (unter CHF 30/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q3" value="2">
                            <span>Standard-Abo mit genug Daten (CHF 30-60/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q3" value="3">
                            <span>Premium-Abo mit viel Daten (√ºber CHF 60/Monat)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 4 -->
                <div class="question" data-question="4">
                    <div class="question-card">
                        <h3><span class="question-number">4</span> Wie viele Streaming-Dienste nutzt du? (Netflix, Spotify, etc.)</h3>
                        <label class="radio-card">
                            <input type="radio" name="q4" value="1" required>
                            <span>Keine oder 1 (unter CHF 20/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q4" value="2">
                            <span>2-3 Dienste (CHF 20-40/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q4" value="3">
                            <span>Mehrere Dienste (√ºber CHF 40/Monat)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 5 -->
                <div class="question" data-question="5">
                    <div class="question-card">
                        <h3><span class="question-number">5</span> Wie viel gibst du f√ºr Hobbys aus? (Sport, Fitness, Gaming, etc.)</h3>
                        <label class="radio-card">
                            <input type="radio" name="q5" value="1" required>
                            <span>Wenig oder nichts (unter CHF 50/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q5" value="2">
                            <span>Normal (CHF 50-100/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q5" value="3">
                            <span>Viel ‚Äì Hobbys sind wichtig (√ºber CHF 100/Monat)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 6 -->
                <div class="question" data-question="6">
                    <div class="question-card">
                        <h3><span class="question-number">6</span> Wie oft isst du ausw√§rts? (Restaurant, Take-Away, Lieferdienst)</h3>
                        <label class="radio-card">
                            <input type="radio" name="q6" value="1" required>
                            <span>Selten (1-2x pro Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q6" value="2">
                            <span>Regelm√§ssig (1-2x pro Woche)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q6" value="3">
                            <span>Oft (3x oder mehr pro Woche)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 7 -->
                <div class="question" data-question="7">
                    <div class="question-card">
                        <h3><span class="question-number">7</span> Rauchst du oder nutzt du Vapes?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q7" value="1" required>
                            <span>Nein</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q7" value="2">
                            <span>Gelegentlich (CHF 50-100/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q7" value="3">
                            <span>Ja, regelm√§ssig (√ºber CHF 100/Monat)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 8 -->
                <div class="question" data-question="8">
                    <div class="question-card">
                        <h3><span class="question-number">8</span> Wie kommst du zur Arbeit/Schule?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q8" value="1" required>
                            <span>Zu Fuss/Velo (kostenlos)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q8" value="2">
                            <span>√ñV-Abo (CHF 50-150/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q8" value="3">
                            <span>Auto (√ºber CHF 200/Monat inkl. Benzin, Versicherung)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 9 -->
                <div class="question" data-question="9">
                    <div class="question-card">
                        <h3><span class="question-number">9</span> Wie oft gehst du zum Coiffeur/Barbier oder f√ºr Beauty-Behandlungen?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q9" value="1" required>
                            <span>Selten (unter CHF 50/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q9" value="2">
                            <span>Regelm√§ssig (CHF 50-100/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q9" value="3">
                            <span>Oft ‚Äì ich achte auf mein Aussehen (√ºber CHF 100/Monat)</span>
                        </label>
                    </div>
                </div>

                <!-- Frage 10 -->
                <div class="question" data-question="10">
                    <div class="question-card">
                        <h3><span class="question-number">10</span> Was ist dein Sparziel?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q10" value="1" required>
                            <span>Notfall-Reserve aufbauen</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q10" value="2">
                            <span>F√ºr eine Reise sparen</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q10" value="3">
                            <span>F√ºr etwas Gr√∂sseres sparen (Auto, Motorrad etc.)</span>
                        </label>
                    </div>
                </div>
                    <div class="action-buttons">
                        <button type="button" class="btn-creative btn-secondary-creative" id="prevBtn" onclick="previousQuestion()" style="display: none;">
                            <span class="btn-arrow-creative">‚Üê</span>
                            <span>Zur√ºck</span>
                        </button>
                        <button type="button" class="btn-creative btn-primary-creative" id="nextBtn" onclick="nextQuestion()">
                            <span>Weiter</span>
                            <span class="btn-arrow-creative">‚Üí</span>
                        </button>
                        <button type="button" class="btn-creative btn-primary-creative btn-large" id="submitBtn" onclick="submitQuestionnaire()" style="display: none;">
                            <span>Budget berechnen</span>
                        </button>
                    </div>
                    </div></div>
                </form>
            </div>
        </section>

        <!-- PHASE 3: Budget-Zuteilung -->
        <section id="phase3" class="phase">
            <div class="phase-header">
                <div class="phase-icon">üéØ</div>
                <div>
                    <h2>Schritt 3: Dein Budget-Typ</h2>
                    <p class="phase-description">So lebst du basierend auf deinen Antworten</p>
                </div>
            </div>

            <div class="budget-reveal" id="budgetResult">
                <!-- Wird dynamisch gef√ºllt -->
            </div>

            <div class="leandro-bubble">
                <div class="avatar-creative">
                    <img src="images/leandro-neutral.png" alt="Leandro">
                </div>
                <div class="speech-bubble-creative">
                    <p>Jetzt wird's spannend! Lass uns schauen, ob mein Geld reicht...</p>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-creative btn-primary-creative btn-large" onclick="startDragDrop()">
                    <span>Budget zusammenstellen</span>
                    <span class="btn-arrow-creative">‚Üí</span>
                </button>
            </div>
        </section>

        <!-- PHASE 4: Drag & Drop -->
        <section id="phase4" class="phase">
            <div class="phase-header">
                <div class="phase-icon">üí∏</div>
                <div>
                    <h2>Schritt 4: Budget zusammenstellen</h2>
                    <p class="phase-description">Ziehe die Posten in die richtigen Kategorien</p>
                </div>
            </div>

            <div class="budget-workspace-fancy">
                <!-- Linke Seite: Verf√ºgbare Posten -->
                <div class="item-pool-fancy">
                    <h3>Verf√ºgbare Posten</h3>
                    <p style="color: var(--gray); margin-bottom: 1rem;">Ziehe alle Posten in die passenden Kategorien ‚Üí</p>
                    <div id="itemPool">
                        <!-- Wird dynamisch gef√ºllt -->
                    </div>
                </div>

                <!-- Rechte Seite: Budget-Kategorien -->
                <div class="budget-categories-fancy">
                    <div class="category-fancy">
                        <h3>üí∞ Einnahmen</h3>
                        <div class="drop-zone-fancy" id="income-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                            <p style="color: var(--gray); text-align: center; padding: 2rem;">Ziehe Einnahmen hierher</p>
                        </div>
                        <div class="category-total-fancy">Total: <span id="income-total">CHF 0</span></div>
                    </div>

                    <div class="category-fancy">
                        <h3>üè† Fixe Kosten</h3>
                        <div class="drop-zone-fancy" id="fixed-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                            <p style="color: var(--gray); text-align: center; padding: 2rem;">Ziehe fixe Kosten hierher</p>
                        </div>
                        <div class="category-total-fancy">Total: <span id="fixed-total">CHF 0</span></div>
                    </div>

                    <div class="category-fancy">
                        <h3>üõí Variabel (ver√§nderbar)</h3>
                        <div class="drop-zone-fancy" id="variable-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                            <p style="color: var(--gray); text-align: center; padding: 2rem;">Ziehe variable Kosten hierher</p>
                        </div>
                        <div class="category-total-fancy">Total: <span id="variable-total">CHF 0</span></div>
                    </div>

                    <div class="category-fancy">
                        <h3>üíé R√ºckstellungen / Sparen</h3>
                        <div class="drop-zone-fancy" id="savings-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                            <p style="color: var(--gray); text-align: center; padding: 2rem;">Ziehe Sparziele hierher</p>
                        </div>
                        <div class="category-total-fancy">Total: <span id="savings-total">CHF 0</span></div>
                    </div>
                </div>
            </div>

            <!-- Bilanz -->
            <div class="balance-card-fancy" id="budgetBalance">
                <h3>üìä Deine Bilanz</h3>
                <div class="balance-row-fancy">
                    <span>Einnahmen:</span>
                    <span class="amount-fancy positive" id="balance-income">CHF 0</span>
                </div>
                <div class="balance-row-fancy">
                    <span>Ausgaben (Fix + Variabel + Sparen):</span>
                    <span class="amount-fancy negative" id="balance-expenses">CHF 0</span>
                </div>
                <div class="balance-row-fancy total">
                    <span><strong>Bilanz:</strong></span>
                    <span class="amount-fancy" id="balance-result">CHF 0</span>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-creative btn-primary-creative btn-large" id="checkBudgetBtn" onclick="checkBudget()" disabled>
                    <span>Budget √ºberpr√ºfen</span>
                </button>
            </div>
        </section>

        <!-- PHASE 5: Optimierung -->
        <section id="phase5" class="phase">
            <div class="phase-header">
                <div class="phase-icon">‚ö†Ô∏è</div>
                <div>
                    <h2>Schritt 5: Budget optimieren</h2>
                    <p class="phase-description">Das Budget ist defizit√§r - Zeit zum Sparen!</p>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left: 4px solid #f59e0b; border-radius: 24px; padding: 2rem; margin: 2rem 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);">
                <h3 style="color: #92400e; margin-bottom: 1rem;">‚ö†Ô∏è Oh-oh! Das Budget ist defizit√§r</h3>
                <p id="deficitMessage" style="color: #78350f; margin: 0;"><!-- Wird dynamisch gef√ºllt --></p>
            </div>

            <div class="leandro-bubble">
                <div class="avatar-creative">
                    <img src="images/leandro-worried.png" alt="Leandro besorgt">
                </div>
                <div class="speech-bubble-creative">
                    <p>Ups... so geht das nicht! Ich muss irgendwo sparen, sonst habe ich am Ende des Monats Schulden. Was kann ich √§ndern?</p>
                </div>
            </div>

            <div style="background: white; border-radius: 24px; padding: 2rem; margin: 2rem 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);">
                <h3 style="margin-bottom: 1.5rem;">üí° So kannst du sparen:</h3>
                
                <div class="tips-grid">
                    <div class="tip-card">
                        <div class="tip-icon">üõí</div>
                        <h4>Variable Kosten senken</h4>
                        <p>Gehe weniger oft in den Ausgang, kaufe weniger Kleider, oder koche √∂fter selbst.</p>
                    </div>
                    <div class="tip-card">
                        <div class="tip-icon">üè†</div>
                        <h4>G√ºnstigere Wohnung</h4>
                        <p id="housingTip"><!-- Wird dynamisch gef√ºllt --></p>
                    </div>
                    <div class="tip-card">
                        <div class="tip-icon">üíé</div>
                        <h4>Weniger sparen</h4>
                        <p id="savingsTip"><!-- Wird dynamisch gef√ºllt --></p>
                    </div>
                </div>
            </div>

            <div style="background: white; border-radius: 24px; padding: 2rem; margin: 2rem 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);">
                <h3 style="margin-bottom: 1.5rem;">‚úèÔ∏è Passe dein Budget an:</h3>
                <div id="optimizationZone" class="optimization-grid">
                    <!-- Wird dynamisch gef√ºllt -->
                </div>
            </div>

            <div class="balance-card-fancy">
                <h3>üìä Neue Bilanz</h3>
                <div class="balance-row-fancy">
                    <span>Einnahmen:</span>
                    <span class="amount-fancy positive" id="opt-balance-income">CHF 0</span>
                </div>
                <div class="balance-row-fancy">
                    <span>Ausgaben:</span>
                    <span class="amount-fancy negative" id="opt-balance-expenses">CHF 0</span>
                </div>
                <div class="balance-row-fancy total">
                    <span><strong>Neue Bilanz:</strong></span>
                    <span class="amount-fancy" id="opt-balance-result">CHF 0</span>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-creative btn-primary-creative btn-large" id="finalizeBtn" onclick="finalizeBudget()" disabled>
                    <span>Budget abschliessen</span>
                    <span class="btn-arrow-creative">‚úì</span>
                </button>
            </div>
        </section>

        <!-- PHASE 6: Abschluss & Quiz -->
        <section id="phase6" class="phase">
            <div class="phase-header">
                <div class="phase-icon">üéâ</div>
                <div>
                    <h2>Schritt 6: Abschluss & Quiz</h2>
                    <p class="phase-description">Teste dein Wissen</p>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-left: 4px solid var(--secondary-color); border-radius: 24px; padding: 2rem; margin: 2rem 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);">
                <h3 style="color: #065f46; margin-bottom: 0.5rem;">‚úÖ Geschafft! Dein Budget ist ausgeglichen</h3>
            </div>

            <div class="leandro-bubble">
                <div class="avatar-creative">
                    <img src="images/leandro-happy.png" alt="Leandro gl√ºcklich">
                </div>
                <div class="speech-bubble-creative">
                    <p>Super! Jetzt weiss ich, dass ich mir eine Wohnung leisten kann ‚Äì wenn ich klug mit meinem Geld umgehe. Danke f√ºr deine Hilfe!</p>
                </div>
            </div>

            <div style="background: white; border-radius: 24px; padding: 2rem; margin: 2rem 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);">
                <h3 style="margin-bottom: 1rem;">Was hast du gelernt?</h3>
                <p style="color: var(--gray); margin-bottom: 2rem;">Beantworte diese kurzen Fragen, um dein Wissen zu √ºberpr√ºfen:</p>

                <div id="finalQuiz">
                    <div class="question-card">
                        <h4><span class="question-number">1</span> Wie viel sollte die Miete maximal vom Einkommen ausmachen?</h4>
                        <label class="radio-card"><input type="radio" name="quiz1" value="wrong"> Die H√§lfte (50%)</label>
                        <label class="radio-card"><input type="radio" name="quiz1" value="correct"> Ein Drittel (33%)</label>
                        <label class="radio-card"><input type="radio" name="quiz1" value="wrong"> Ein Viertel (25%)</label>
                    </div>

                    <div class="question-card">
                        <h4><span class="question-number">2</span> Was sind "variable Kosten"?</h4>
                        <label class="radio-card"><input type="radio" name="quiz2" value="wrong"> Kosten, die jeden Monat gleich sind</label>
                        <label class="radio-card"><input type="radio" name="quiz2" value="correct"> Ver√§nderbare Kosten</label>
                        <label class="radio-card"><input type="radio" name="quiz2" value="wrong"> Kosten f√ºr die Wohnung</label>
                    </div>

                    <div class="question-card">
                        <h4><span class="question-number">3</span> Warum sind R√ºckstellungen (Sparen) wichtig?</h4>
                        <label class="radio-card"><input type="radio" name="quiz3" value="wrong"> Damit man mehr ausgeben kann</label>
                        <label class="radio-card"><input type="radio" name="quiz3" value="correct"> F√ºr Notf√§lle und gr√∂ssere Ausgaben</label>
                        <label class="radio-card"><input type="radio" name="quiz3" value="wrong"> Damit der Vermieter zufrieden ist</label>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-creative btn-primary-creative btn-large" onclick="submitFinalQuiz()">
                        <span>Quiz abschliessen</span>
                    </button>
                    <button class="btn-creative btn-secondary-creative" onclick="window.location.href='index.html'">
                        <span>Zur√ºck zur √úbersicht</span>
                    </button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 ‚Äì Lernpfad "Meine erste Wohnung"</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/modul1.js"></script>
</body>
</html>
