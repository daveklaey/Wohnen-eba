<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul 1: Kann ich mir das leisten?</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modul1.css">
</head>
<body>
    <header class="header-creative">
        <div class="container">
            <div class="header-content">
                <div class="module-badge">Modul 1</div>
                <h1>Kann ich mir das leisten?</h1>
                <p class="subtitle">Leandros Budget unter der Lupe</p>
            </div>
            <div class="header-illustration">
                <div class="illustration-budget">üí∞</div>
            </div>
        </div>
    </header>

    <nav class="breadcrumb">
        <div class="container">
            <a href="index.html" class="back-link">‚Üê Zur√ºck zur √úbersicht</a>
        </div>
    </nav>

    <main class="container creative-container">
        <!-- PHASE 1: Einstiegstext -->
        <section id="phase1" class="phase active">
            <div class="content-box">
                <div class="leandro-bubble">
                    <div class="avatar-creative">L</div>
                    <div class="speech-bubble-creative">
                        <p>Hey! Ich habe meine Lehre abgeschlossen und verdiene jetzt richtig Geld. Zeit f√ºr meine eigene Wohnung! Aber... kann ich mir das √ºberhaupt leisten?</p>
                    </div>
                </div>

                <h2>Kann ich mir eine eigene Wohnung leisten?</h2>
                
                <p>Leandro verdient neu CHF 4'100 brutto pro Monat. Nach Abz√ºgen bleiben ihm etwa <strong>CHF 3'750 netto</strong> √ºbrig. Das klingt nach viel Geld ‚Äì aber reicht das f√ºr eine eigene Wohnung?</p>

                <div class="info-box">
                    <h3>üí° Die Faustregel</h3>
                    <p>Die Miete sollte maximal <strong>einen Drittel</strong> des Einkommens ausmachen. Bei Leandro w√§ren das etwa <strong>CHF 1'250</strong>.</p>
                </div>

                <p>Aber Wohnen kostet mehr als nur die Miete! Krankenkasse, Essen, Handy-Abo, Kleider, Ausgang ‚Äì alles muss bezahlt werden.</p>

                <p>Manche Kosten sind <strong>fix</strong> (kommen jeden Monat), andere sind <strong>variabel</strong> (du kannst sie beeinflussen). Wichtig ist: Am Ende des Monats sollte noch Geld √ºbrig sein ‚Äì zum Sparen oder f√ºr Notf√§lle.</p>

                <button class="btn btn-primary btn-large" onclick="startQuestionnaire()">Teste jetzt: Wie sieht dein Budget aus?</button>
            </div>
        </section>

        <!-- PHASE 2: Fragebogen -->
        <section id="phase2" class="phase">
            <div class="content-box">
                <h2>Dein Lifestyle</h2>
                <p>Beantworte die folgenden Fragen, um dein pers√∂nliches Budget zu ermitteln:</p>

                <div class="progress-bar-small">
                    <div class="progress-fill-small" id="questionProgress" style="width: 0%"></div>
                </div>
                <p class="progress-text-small">Frage <span id="currentQuestion">1</span> von 10</p>

                <form id="questionnaireForm">
                    <!-- Frage 1: Ausgang -->
                    <div class="question active" data-question="1">
                        <h3>1. Wie oft gehst du in den Ausgang (Bar, Club, Konzerte)?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q1" value="1" required>
                            <span>Selten oder nie (0-1x pro Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q1" value="2">
                            <span>Ab und zu (2-3x pro Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q1" value="3">
                            <span>Oft (4x oder mehr pro Monat)</span>
                        </label>
                    </div>

                    <!-- Frage 2: Kleider/Shopping -->
                    <div class="question" data-question="2">
                        <h3>2. Wie viel gibst du f√ºr Kleider, Schuhe und Accessoires aus?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q2" value="1" required>
                            <span>Wenig ‚Äì nur wenn n√∂tig (unter CHF 50/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q2" value="2">
                            <span>Normal ‚Äì gelegentlich etwas Neues (CHF 50-150/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q2" value="3">
                            <span>Viel ‚Äì ich liebe Shopping (√ºber CHF 150/Monat)</span>
                        </label>
                    </div>

                    <!-- Frage 3: Handy-Abo -->
                    <div class="question" data-question="3">
                        <h3>3. Welches Handy-Abo hast du?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q3" value="1" required>
                            <span>Prepaid oder g√ºnstiges Abo (unter CHF 30/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q3" value="2">
                            <span>Standard-Abo mit genug Daten (CHF 30-60/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q3" value="3">
                            <span>Premium-Abo mit viel Daten (√ºber CHF 60/Monat)</span>
                        </label>
                    </div>

                    <!-- Frage 4: Streaming -->
                    <div class="question" data-question="4">
                        <h3>4. Wie viele Streaming-Dienste nutzt du? (Netflix, Spotify, etc.)</h3>
                        <label class="radio-card">
                            <input type="radio" name="q4" value="1" required>
                            <span>Keine oder 1 Dienst (CHF 0-15/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q4" value="2">
                            <span>2-3 Dienste (CHF 20-40/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q4" value="3">
                            <span>4 oder mehr Dienste (√ºber CHF 40/Monat)</span>
                        </label>
                    </div>

                    <!-- Frage 5: Hobbys -->
                    <div class="question" data-question="5">
                        <h3>5. Wie viel gibst du f√ºr Hobbys aus? (Sport, Gaming, Fitness, etc.)</h3>
                        <label class="radio-card">
                            <input type="radio" name="q5" value="1" required>
                            <span>Wenig bis nichts (unter CHF 50/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q5" value="2">
                            <span>Mittel ‚Äì ein Hobby-Budget (CHF 50-100/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q5" value="3">
                            <span>Viel ‚Äì Hobbys sind wichtig (√ºber CHF 100/Monat)</span>
                        </label>
                    </div>

                    <!-- Frage 6: Essen ausw√§rts -->
                    <div class="question" data-question="6">
                        <h3>6. Wie oft isst du ausw√§rts? (Kebab, McDonald's, Restaurant, etc.)</h3>
                        <label class="radio-card">
                            <input type="radio" name="q6" value="1" required>
                            <span>Selten ‚Äì ich koche meist selbst (1-2x pro Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q6" value="2">
                            <span>Manchmal ‚Äì 1-2x pro Woche</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q6" value="3">
                            <span>Oft ‚Äì 3x oder mehr pro Woche</span>
                        </label>
                    </div>

                    <!-- Frage 7: Rauchen/Vapes -->
                    <div class="question" data-question="7">
                        <h3>7. Rauchst du oder benutzt du Vapes?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q7" value="1" required>
                            <span>Nein</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q7" value="2">
                            <span>Ja, gelegentlich (CHF 50-100/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q7" value="3">
                            <span>Ja, regelm√§ssig (√ºber CHF 100/Monat)</span>
                        </label>
                    </div>

                    <!-- Frage 8: Transport -->
                    <div class="question" data-question="8">
                        <h3>8. Wie bewegst du dich fort?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q8" value="1" required>
                            <span>Zu Fuss, Velo oder √ñV-Abo (CHF 0-100/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q8" value="2">
                            <span>√ñV + gelegentlich Taxi/Uber (CHF 100-200/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q8" value="3">
                            <span>Eigenes Auto (Versicherung, Benzin, etc.)</span>
                        </label>
                    </div>

                    <!-- Frage 9: Beauty/Barber -->
                    <div class="question" data-question="9">
                        <h3>9. Wie viel gibst du f√ºr Beauty/Barber/Coiffeur aus?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q9" value="1" required>
                            <span>Wenig ‚Äì selten zum Coiffeur (unter CHF 30/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q9" value="2">
                            <span>Normal ‚Äì regelm√§ssig zum Barber (CHF 30-60/Monat)</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q9" value="3">
                            <span>Viel ‚Äì Beauty ist wichtig (√ºber CHF 60/Monat)</span>
                        </label>
                    </div>

                    <!-- Frage 10: Sparziel -->
                    <div class="question" data-question="10">
                        <h3>10. Wof√ºr m√∂chtest du sparen?</h3>
                        <label class="radio-card">
                            <input type="radio" name="q10" value="1" required>
                            <span>Notfall-Reserve / Sicherheit</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q10" value="2">
                            <span>Ferien / Reisen</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="q10" value="3">
                            <span>Auto / F√ºhrerschein</span>
                        </label>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" style="display: none;">‚Üê Zur√ºck</button>
                        <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">Weiter ‚Üí</button>
                        <button type="button" class="btn btn-primary" id="submitBtn" onclick="submitQuestionnaire()" style="display: none;">Budget berechnen</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- PHASE 3: Budget-Zuteilung -->
        <section id="phase3" class="phase">
            <div class="content-box">
                <h2>Dein Budget-Typ</h2>
                <p>Basierend auf deinen Antworten haben wir ein Budget f√ºr dich zusammengestellt:</p>

                <div class="budget-result" id="budgetResult">
                    <!-- Wird dynamisch gef√ºllt -->
                </div>

                <div class="leandro-says">
                    <div class="avatar-small">L</div>
                    <div class="speech-bubble">
                        <p>Jetzt wird's spannend! Lass uns schauen, ob mein Geld reicht...</p>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" onclick="startDragDrop()">Budget zusammenstellen ‚Üí</button>
            </div>
        </section>

        <!-- PHASE 4: Drag & Drop -->
        <section id="phase4" class="phase">
            <div class="content-box">
                <h2>Stelle dein Budget zusammen</h2>
                <p>Ziehe die Posten in die richtigen Kategorien. Am Ende siehst du, ob das Geld reicht.</p>

                <div class="budget-workspace">
                    <!-- Linke Seite: Verf√ºgbare Posten -->
                    <div class="available-items">
                        <h3>Verf√ºgbare Posten</h3>
                        <p class="hint">Ziehe alle Posten in die passenden Kategorien ‚Üí</p>
                        <div id="itemPool" class="item-pool">
                            <!-- Wird dynamisch gef√ºllt -->
                        </div>
                    </div>

                    <!-- Rechte Seite: Budget-Kategorien -->
                    <div class="budget-categories">
                        <div class="category" data-category="income">
                            <h3>üí∞ Einnahmen</h3>
                            <div class="drop-zone" id="income-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <p class="empty-hint">Ziehe Einnahmen hierher</p>
                            </div>
                            <div class="category-total">Total: <span id="income-total">CHF 0</span></div>
                        </div>

                        <div class="category" data-category="fixed">
                            <h3>üè† Fixe Kosten</h3>
                            <div class="drop-zone" id="fixed-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <p class="empty-hint">Ziehe fixe Kosten hierher</p>
                            </div>
                            <div class="category-total">Total: <span id="fixed-total">CHF 0</span></div>
                        </div>

                        <div class="category" data-category="variable">
                            <h3>üõí Variable Kosten</h3>
                            <div class="drop-zone" id="variable-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <p class="empty-hint">Ziehe variable Kosten hierher</p>
                            </div>
                            <div class="category-total">Total: <span id="variable-total">CHF 0</span></div>
                        </div>

                        <div class="category" data-category="savings">
                            <h3>üíé R√ºckstellungen / Sparen</h3>
                            <div class="drop-zone" id="savings-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
                                <p class="empty-hint">Ziehe Sparziele hierher</p>
                            </div>
                            <div class="category-total">Total: <span id="savings-total">CHF 0</span></div>
                        </div>
                    </div>
                </div>

                <!-- Bilanz -->
                <div class="budget-balance" id="budgetBalance">
                    <div class="balance-calculation">
                        <div class="balance-row">
                            <span>Einnahmen:</span>
                            <span class="amount positive" id="balance-income">CHF 0</span>
                        </div>
                        <div class="balance-row">
                            <span>Ausgaben (Fix + Variabel + Sparen):</span>
                            <span class="amount negative" id="balance-expenses">CHF 0</span>
                        </div>
                        <hr>
                        <div class="balance-row total">
                            <span><strong>Bilanz:</strong></span>
                            <span class="amount" id="balance-result">CHF 0</span>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" id="checkBudgetBtn" onclick="checkBudget()" disabled>Budget √ºberpr√ºfen</button>
            </div>
        </section>

        <!-- PHASE 5: Optimierung -->
        <section id="phase5" class="phase">
            <div class="content-box">
                <div class="alert alert-warning">
                    <h3>‚ö†Ô∏è Oh-oh! Das Budget ist defizit√§r</h3>
                    <p id="deficitMessage"><!-- Wird dynamisch gef√ºllt --></p>
                </div>

                <div class="leandro-says">
                    <div class="avatar-small">L</div>
                    <div class="speech-bubble">
                        <p>Ups... so geht das nicht! Ich muss irgendwo sparen, sonst habe ich am Ende des Monats Schulden. Was kann ich √§ndern?</p>
                    </div>
                </div>

                <h2>Optimiere dein Budget</h2>
                <p>Du hast mehrere M√∂glichkeiten, dein Budget ins Plus zu bringen:</p>

                <div class="optimization-options">
                    <div class="option-card">
                        <h4>üí° Tipp 1: Variable Kosten senken</h4>
                        <p>Gehe weniger oft in den Ausgang, kaufe weniger Kleider, oder koche √∂fter selbst.</p>
                    </div>
                    <div class="option-card">
                        <h4>üí° Tipp 2: G√ºnstigere Wohnung</h4>
                        <p>Statt CHF 1'400 eine Wohnung f√ºr CHF 1'200 suchen ‚Äì spart CHF 200!</p>
                    </div>
                    <div class="option-card">
                        <h4>üí° Tipp 3: Weniger sparen</h4>
                        <p>F√ºr Notf√§lle brauchst du R√ºckstellungen ‚Äì aber vielleicht kannst du die Ferien aufschieben?</p>
                    </div>
                </div>

                <h3>Passe dein Budget an:</h3>
                <div id="optimizationZone">
                    <!-- Wird dynamisch gef√ºllt mit anpassbaren Posten -->
                </div>

                <div class="budget-balance">
                    <div class="balance-calculation">
                        <div class="balance-row">
                            <span>Einnahmen:</span>
                            <span class="amount positive" id="opt-balance-income">CHF 0</span>
                        </div>
                        <div class="balance-row">
                            <span>Ausgaben:</span>
                            <span class="amount negative" id="opt-balance-expenses">CHF 0</span>
                        </div>
                        <hr>
                        <div class="balance-row total">
                            <span><strong>Neue Bilanz:</strong></span>
                            <span class="amount" id="opt-balance-result">CHF 0</span>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" id="finalizeBtn" onclick="finalizeBudget()" disabled>Budget abschliessen ‚úì</button>
            </div>
        </section>

        <!-- PHASE 6: Abschluss & Quiz -->
        <section id="phase6" class="phase">
            <div class="content-box">
                <div class="alert alert-success">
                    <h3>‚úÖ Geschafft! Dein Budget ist ausgeglichen</h3>
                </div>

                <div class="leandro-says">
                    <div class="avatar-small">L</div>
                    <div class="speech-bubble">
                        <p>Super! Jetzt weiss ich, dass ich mir eine Wohnung leisten kann ‚Äì wenn ich klug mit meinem Geld umgehe. Danke f√ºr deine Hilfe!</p>
                    </div>
                </div>

                <h2>Was hast du gelernt?</h2>
                <p>Beantworte diese kurzen Fragen, um dein Wissen zu √ºberpr√ºfen:</p>

                <div id="finalQuiz">
                    <div class="quiz-question">
                        <p><strong>1. Wie viel sollte die Miete maximal vom Einkommen ausmachen?</strong></p>
                        <label class="radio-card"><input type="radio" name="quiz1" value="wrong"> Die H√§lfte (50%)</label>
                        <label class="radio-card"><input type="radio" name="quiz1" value="correct"> Ein Drittel (33%)</label>
                        <label class="radio-card"><input type="radio" name="quiz1" value="wrong"> Ein Viertel (25%)</label>
                    </div>

                    <div class="quiz-question">
                        <p><strong>2. Was sind "variable Kosten"?</strong></p>
                        <label class="radio-card"><input type="radio" name="quiz2" value="wrong"> Kosten, die jeden Monat gleich sind</label>
                        <label class="radio-card"><input type="radio" name="quiz2" value="correct"> Kosten, die du beeinflussen kannst</label>
                        <label class="radio-card"><input type="radio" name="quiz2" value="wrong"> Kosten f√ºr die Wohnung</label>
                    </div>

                    <div class="quiz-question">
                        <p><strong>3. Warum sind R√ºckstellungen (Sparen) wichtig?</strong></p>
                        <label class="radio-card"><input type="radio" name="quiz3" value="wrong"> Damit man mehr ausgeben kann</label>
                        <label class="radio-card"><input type="radio" name="quiz3" value="correct"> F√ºr Notf√§lle und gr√∂ssere Ausgaben</label>
                        <label class="radio-card"><input type="radio" name="quiz3" value="wrong"> Damit der Vermieter zufrieden ist</label>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" onclick="submitFinalQuiz()">Quiz abschliessen</button>
                <button class="btn btn-secondary" onclick="window.location.href='index.html'">Zur√ºck zur √úbersicht</button>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 ‚Äì Lernpfad "Meine erste Wohnung"</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/modul1.js"></script>
</body>
</html>
