<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul 2: Wo finde ich eine Wohnung?</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modul2.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Modul 2: Wo finde ich eine Wohnung?</h1>
            <p class="subtitle">Die Wohnungssuche beginnt!</p>
        </div>
    </header>

    <nav class="breadcrumb">
        <div class="container">
            <a href="index.html">â† ZurÃ¼ck zur Ãœbersicht</a>
        </div>
    </nav>

    <main class="container">
        <!-- PHASE 1: Video mit Pausen -->
        <section id="phase1" class="phase active">
            <div class="content-box">
                <div class="leandro-says">
                    <div class="avatar-small">L</div>
                    <div class="speech-bubble">
                        <p>Okay, ich weiss jetzt, was ich mir leisten kann. Aber wo finde ich Ã¼berhaupt eine Wohnung? Und wie erkenne ich Fake-Inserate?</p>
                    </div>
                </div>

                <h2>Achtung: Fake-Inserate!</h2>
                <p>Bevor du mit der Wohnungssuche startest, schaue dir dieses Video an. Es zeigt, wie BetrÃ¼ger:innen auf Wohnungsplattformen vorgehen und wie du dich schÃ¼tzen kannst.</p>

                <div class="alert alert-info">
                    <h3>ğŸ“º So funktioniert dieses Video</h3>
                    <p>Das Video wird automatisch an 4 Stellen pausieren. Du musst dann VerstÃ¤ndnisfragen beantworten, bevor es weitergeht.</p>
                </div>

                <!-- Video Player -->
                <div class="video-container">
                    <div class="video-wrapper" id="videoWrapper">
                        <!-- Google Drive Video wird hier eingebettet -->
                        <iframe 
                            id="videoPlayer"
                            src="https://drive.google.com/file/d/1h9YHASinUAd7sBcEx4J-0_4S_a_N__ZX/preview" 
                            width="100%" 
                            height="100%" 
                            allow="autoplay"
                            allowfullscreen>
                        </iframe>
                        
                        <!-- Overlay fÃ¼r Pausen -->
                        <div class="video-overlay" id="videoOverlay">
                            <div class="overlay-content">
                                <h3 id="overlayTitle">Video pausiert</h3>
                                <p id="overlayMessage">Beantworte die Fragen, um weiterzuschauen.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Video Controls -->
                    <div class="video-controls">
                        <button class="btn btn-primary" id="playPauseBtn" onclick="toggleVideo()">â–¶ Video starten</button>
                        <div class="video-progress">
                            <div class="progress-bar-video">
                                <div class="progress-fill-video" id="videoProgressFill"></div>
                            </div>
                            <span id="videoTime">0:00 / 17:11</span>
                        </div>
                    </div>
                </div>

                <!-- VerstÃ¤ndnisfragen (werden bei Pausen angezeigt) -->
                <div class="questions-container" id="questionsContainer" style="display: none;">
                    <h3 id="questionTitle">VerstÃ¤ndnisfragen</h3>
                    <p class="question-intro">Beantworte die folgenden Fragen richtig, um das Video fortzusetzen:</p>
                    
                    <div id="questionContent">
                        <!-- Wird dynamisch gefÃ¼llt -->
                    </div>

                    <button class="btn btn-primary" id="checkAnswersBtn" onclick="checkQuestionAnswers()">Antworten Ã¼berprÃ¼fen</button>
                </div>

                <!-- Abschluss Video -->
                <div id="videoComplete" style="display: none;">
                    <div class="alert alert-success">
                        <h3>âœ… Video abgeschlossen!</h3>
                        <p>Du hast alle Fragen richtig beantwortet. Jetzt weisst du, wie du Fake-Inserate erkennst!</p>
                    </div>

                    <button class="btn btn-primary btn-large" onclick="showPhase(2)">Weiter zum Glossar â†’</button>
                </div>
            </div>
        </section>

        <!-- PHASE 2: Glossar - Inserate verstehen -->
        <section id="phase2" class="phase">
            <div class="content-box">
                <h2>Inserate verstehen</h2>
                <p>Bevor du mit der Suche startest, solltest du die wichtigsten Begriffe aus Wohnungsinseraten kennen:</p>

                <div class="glossary">
                    <div class="glossary-item">
                        <div class="glossary-term" onclick="toggleGlossary(this)">
                            <h4>3.5 Zimmer <span class="toggle-icon">+</span></h4>
                        </div>
                        <div class="glossary-definition">
                            <p><strong>Was bedeutet das?</strong> Die "halben" Zimmer sind meist KÃ¼chen oder Esszimmer. Eine 3.5-Zimmer-Wohnung hat zum Beispiel: Wohnzimmer, 2 Schlafzimmer, KÃ¼che/Essbereich.</p>
                            <p><strong>Tipp:</strong> Bad, WC und Flur zÃ¤hlen nicht als Zimmer.</p>
                        </div>
                    </div>

                    <div class="glossary-item">
                        <div class="glossary-term" onclick="toggleGlossary(this)">
                            <h4>Nebenkosten akonto <span class="toggle-icon">+</span></h4>
                        </div>
                        <div class="glossary-definition">
                            <p><strong>Was bedeutet das?</strong> "Akonto" bedeutet "Vorauszahlung" oder "Anzahlung". Du zahlst jeden Monat einen geschÃ¤tzten Betrag fÃ¼r Heizung, Wasser, Hausunterhalt etc.</p>
                            <p><strong>Beispiel:</strong> Miete CHF 1'200 + Nebenkosten akonto CHF 150 = Total CHF 1'350 pro Monat.</p>
                            <p><strong>Wichtig:</strong> Am Ende des Jahres wird abgerechnet. Hast du zu viel bezahlt, bekommst du Geld zurÃ¼ck. Hast du zu wenig bezahlt, musst du nachzahlen.</p>
                        </div>
                    </div>

                    <div class="glossary-item">
                        <div class="glossary-term" onclick="toggleGlossary(this)">
                            <h4>Brutto- vs. Nettomiete <span class="toggle-icon">+</span></h4>
                        </div>
                        <div class="glossary-definition">
                            <p><strong>Nettomiete:</strong> Nur die Miete, ohne Nebenkosten.</p>
                            <p><strong>Bruttomiete:</strong> Miete + Nebenkosten zusammen.</p>
                            <p><strong>Beispiel:</strong> Nettomiete CHF 1'200 + Nebenkosten CHF 150 = Bruttomiete CHF 1'350.</p>
                        </div>
                    </div>

                    <div class="glossary-item">
                        <div class="glossary-term" onclick="toggleGlossary(this)">
                            <h4>Kaution / Mietzinsgarantie <span class="toggle-icon">+</span></h4>
                        </div>
                        <div class="glossary-definition">
                            <p><strong>Was ist das?</strong> Eine Sicherheit fÃ¼r den Vermieter, falls du SchÃ¤den verursachst oder die Miete nicht bezahlst.</p>
                            <p><strong>HÃ¶he:</strong> Meist 2-3 Monatsmieten (z.B. bei CHF 1'200 Miete = CHF 2'400-3'600).</p>
                            <p><strong>Wichtig:</strong> Die Kaution wird auf ein gesperrtes Konto eingezahlt. Du bekommst sie bei Auszug zurÃ¼ck, wenn alles in Ordnung ist.</p>
                        </div>
                    </div>

                    <div class="glossary-item">
                        <div class="glossary-term" onclick="toggleGlossary(this)">
                            <h4>mÂ² (Quadratmeter) <span class="toggle-icon">+</span></h4>
                        </div>
                        <div class="glossary-definition">
                            <p><strong>Was bedeutet das?</strong> Die GrÃ¶sse der Wohnung. Je mehr mÂ², desto grÃ¶sser die Wohnung.</p>
                            <p><strong>Richtwert:</strong> Eine 3.5-Zimmer-Wohnung hat etwa 70-90 mÂ².</p>
                            <p><strong>Tipp:</strong> FÃ¼r eine Person reichen etwa 40-50 mÂ².</p>
                        </div>
                    </div>

                    <div class="glossary-item">
                        <div class="glossary-term" onclick="toggleGlossary(this)">
                            <h4>VerfÃ¼gbar ab / Einzugsdatum <span class="toggle-icon">+</span></h4>
                        </div>
                        <div class="glossary-definition">
                            <p><strong>Was bedeutet das?</strong> Ab wann du in die Wohnung einziehen kannst.</p>
                            <p><strong>"Sofort" oder "nach Vereinbarung":</strong> Du kannst flexibel einziehen.</p>
                            <p><strong>Festes Datum:</strong> Du kannst erst ab diesem Datum einziehen.</p>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" onclick="showPhase(3)">Jetzt Wohnung suchen! â†’</button>
            </div>
        </section>

        <!-- PHASE 3: Wohnungssuche -->
        <section id="phase3" class="phase">
            <div class="content-box">
                <div class="leandro-says">
                    <div class="avatar-small">L</div>
                    <div class="speech-bubble">
                        <p>Super! Jetzt bin ich bereit. Lass uns eine passende Wohnung finden!</p>
                    </div>
                </div>

                <h2>Deine Wohnungssuche</h2>
                <p>Suche jetzt auf den folgenden Plattformen nach einer Wohnung, die zu deinem Budget passt:</p>

                <!-- Links zu Plattformen -->
                <div class="platform-links">
                    <a href="https://www.comparis.ch/immobilien/default" target="_blank" class="platform-card">
                        <h3>ğŸ  Comparis</h3>
                        <p>Grosse Auswahl an Miet- und Kaufobjekten</p>
                    </a>
                    <a href="https://www.homegate.ch" target="_blank" class="platform-card">
                        <h3>ğŸ¡ Homegate</h3>
                        <p>Beliebte Plattform mit vielen Inseraten</p>
                    </a>
                    <a href="https://www.immoscout24.ch" target="_blank" class="platform-card">
                        <h3>ğŸ˜ï¸ ImmoScout24</h3>
                        <p>Schnelle Suche nach Kriterien</p>
                    </a>
                </div>

                <div class="alert alert-info">
                    <h3>ğŸ“‹ Checkliste fÃ¼r die Wohnungssuche</h3>
                    <ul>
                        <li>âœ“ Budget: Maximal 1/3 deines Einkommens</li>
                        <li>âœ“ Lage: NÃ¤he zu Arbeit/Schule, Ã–V-Anbindung</li>
                        <li>âœ“ GrÃ¶sse: Wie viele Zimmer brauchst du?</li>
                        <li>âœ“ Nebenkosten: Sind sie im Preis enthalten?</li>
                        <li>âœ“ Kaution: Kannst du sie aufbringen?</li>
                        <li>âœ“ Inserat: Sieht es realistisch aus? (Vorsicht vor Fake!)</li>
                    </ul>
                </div>

                <h3>Speichere deine Traumwohnung</h3>
                <p>Hast du eine passende Wohnung gefunden? FÃ¼lle das Formular aus und analysiere Vor- und Nachteile:</p>

                <!-- Wohnungsformular -->
                <form id="apartmentForm" class="apartment-form">
                    <div class="form-group">
                        <label for="apartmentLink">Link zum Inserat *</label>
                        <input type="url" id="apartmentLink" placeholder="https://www.comparis.ch/..." required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="apartmentAddress">Adresse / Ort *</label>
                            <input type="text" id="apartmentAddress" placeholder="z.B. Musterstrasse 10, 8001 ZÃ¼rich" required>
                        </div>
                        <div class="form-group">
                            <label for="apartmentRooms">Anzahl Zimmer *</label>
                            <input type="text" id="apartmentRooms" placeholder="z.B. 2.5" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="apartmentRent">Miete (netto) *</label>
                            <input type="number" id="apartmentRent" placeholder="z.B. 1200" required>
                        </div>
                        <div class="form-group">
                            <label for="apartmentExtra">Nebenkosten *</label>
                            <input type="number" id="apartmentExtra" placeholder="z.B. 150" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="apartmentSize">GrÃ¶sse (mÂ²)</label>
                        <input type="number" id="apartmentSize" placeholder="z.B. 65">
                    </div>

                    <div class="form-group">
                        <label for="apartmentAvailable">VerfÃ¼gbar ab</label>
                        <input type="text" id="apartmentAvailable" placeholder="z.B. sofort, 01.04.2024">
                    </div>

                    <div class="form-group">
                        <label for="apartmentWhy">Warum passt diese Wohnung zu dir? *</label>
                        <textarea id="apartmentWhy" rows="4" placeholder="z.B. NÃ¤he zur Arbeit, gute Ã–V-Anbindung, passt ins Budget..." required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="apartmentPros">Vorteile (3-5 Punkte) *</label>
                            <textarea id="apartmentPros" rows="5" placeholder="- Zentrale Lage&#10;- Balkon vorhanden&#10;- GÃ¼nstige Miete&#10;- ..." required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="apartmentCons">Nachteile (3-5 Punkte) *</label>
                            <textarea id="apartmentCons" rows="5" placeholder="- Kleine KÃ¼che&#10;- Kein Lift&#10;- Laute Strasse&#10;- ..." required></textarea>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">Wohnung speichern & PDF erstellen</button>
                </form>
            </div>
        </section>

        <!-- PHASE 4: Zusammenfassung & Download -->
        <section id="phase4" class="phase">
            <div class="content-box">
                <div class="alert alert-success">
                    <h3>âœ… Wohnung gespeichert!</h3>
                    <p>Deine Wohnungsanalyse ist fertig. Du kannst sie jetzt als PDF herunterladen.</p>
                </div>

                <div id="apartmentSummary" class="apartment-summary">
                    <!-- Wird dynamisch gefÃ¼llt -->
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="downloadPDF()">ğŸ“„ Als PDF herunterladen</button>
                    <button class="btn btn-secondary" onclick="showPhase(3)">Andere Wohnung suchen</button>
                    <button class="btn btn-secondary" onclick="completeModule(2); window.location.href='index.html'">Modul abschliessen âœ“</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 â€“ Lernpfad "Meine erste Wohnung"</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/modul2.js"></script>
    <!-- jsPDF fÃ¼r PDF-Generierung -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
